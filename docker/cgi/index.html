<!DOCTYPE html>
<html>
<head>
	<title>MaveDB visualizer</title>
	<link rel="stylesheet" href="style.css" type="text/css"/>
	<script src="jquery-3.3.1.min.js"></script>
	<script src="mavevis.js"></script>
</head>
<body>
	<!-- <h1>MaveDB visualizer</h1> -->
	<p class="header">
		<img src="logo.png" alt="MaveVis"> &nbsp;A visualization tool for MaveDB
	</p>
	<div class="main">
		<div class="box" id="controlpanel">
			<form onsubmit="return false;">
				<p><a title="The MaveDB score-set identifier">
					<label class="left" for="ssid">Score-set ID</label>
					<input id="ssid" type="text" name="scoresetID" placeholder="SCS000002A.1"/>
				</a></p>
				<p><a title="The Uniprot accession for the wild-type protein">
					<label class="left" for="uniprot">Uniprot Acc.</label>
					<input type="text" name="uniprot" id="uniprot" placeholder="P63279"/>
				</a></p>
				<p><a title="Multiple comma-separated values allowed!">
					<label class="left" for="pdb">PDB Acc.</label>
					<input type="text" name="pdb" id="pdb" placeholder="3UIP"/>
				</a></p>
				<p><a title="Multiple comma-separated values allowed!">
					<label class="left" for="mc">PDB chain</label>
					<input type="text" name="mainChain" id="mc" placeholder="A"/>
				</a></p>
				<details>
					<summary>Advanced options</summary>
					<p>
						<textarea cols=70 rows=10 name="WT" id="wt" placeholder="Custom wildtype sequence"></textarea>
					</p>
					<p><a title="Offset of the mapped area from the sequence start">
						<label class="left" for="seqOffset">Sequence offset</label>
						<input id="seqOffset" type="number" name="seqOffset" value="0" step="1"/>
					</a></p>
					<p><a title="Auto: Use median of synonymous variant scores">
						<label class="left" for="synMed">WT-like score</label>
						<input id="synMed" type="number" name="synMed" value="1" step="0.01" disabled/>
						<input type="checkbox" id="synAuto" value="TRUE" checked/>
						<label for="synAuto">auto</label>
					</a></p>
					<p><a title="Auto: Use median of nonsense variant scores">
						<label class="left" for="stopMed">Null-like score</label>
						<input id="stopMed" type="number" name="stopMed" value="0" step="0.01" disabled/>
						<input type="checkbox" id="stopAuto" value="TRUE" checked/>
						<label for="stopAuto">auto</label>
					</a></p>
					<p>
						<label class="left" for="pngRes">Image resolution</label> 
						<input id="pngRes" type="number" name="pngRes" min="50" max="800" step="10" value="100"/>
						<label for="pngRes">DPI</label>
					</p>
					<p><a title="Recalculate all assets instead of using cached data">
						<label class="left" for="overrideCache">Override cache</label>
						<input id="overrideCache" type="checkbox" name="overrideCache" value="TRUE"/>
					</a></p>
				</details>
				<p></p>
				<input id="submit" type="submit" value="Apply"/>
			</form>
		</div>
		<div id="right">
			<div class="box" id="outputpanel">
				<div class="passepartoutImg" id="imagepanel">
					
				</div>
				<div>
					<button id="pdfbutton" disabled>Download as PDF</button>
					<button id="pngbutton" disabled>Download as PNG</button>
				</div>
			</div>
			<div class="box" id="consolepanel">
				<div class="passepartoutCons" style="">
					<pre id="console">Connection established...
Ready.</pre><span class="blink" style="color: white;">&#9646;</span>
				</div>
			</div>
		</div>
	</div>
	<br/>
	<div class="footer">
		Copyright &copy; 2018 Jochen Weile, <a href="https://www.gnu.org/licenses/gpl-3.0.en.html">GPLv3.0</a> 
	</div>
	<!--<script type="text/javascript">
		document.getElementById('synAuto').onchange = function() {
		    document.getElementById('synMed').disabled = this.checked;
		};
		document.getElementById('stopAuto').onchange = function() {
		    document.getElementById('stopMed').disabled = this.checked;
		};
	</script>-->
</body>
</html>
